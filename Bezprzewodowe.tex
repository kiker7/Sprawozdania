\documentclass[a4paper,11pt,notitlepage]{article}
\usepackage[utf8]{inputenc}	% latin2 - kodowanie iso-8859-2; cp1250 - kodowanie windows
\usepackage[T1]{fontenc}
\usepackage[polish]{babel}
\usepackage[MeX]{polski}
\usepackage[pdftex]{graphicx}
\selectlanguage{polish}

\usepackage{graphicx}

\hyphenation{FreeBSD}

\author{Rafał Rutyna \\ Piotr Pyśk \\ GR3}
\title{Laboratorium Sieci Komputerowych \\ {\small Interfejsy sieciowe}}
\date{\today}

\linespread{1.3}

\usepackage{indentfirst}

\begin{document}
\maketitle
\newpage
\tableofcontents
\newpage

\section{Wstęp}

\section{Program Wi-Fi Analyzer}

Za pomocą programu Wi-Fi Analyzer przeskanowaliśmy eter w budynku Starej 
Kotłowni w poszukiwaniu sieci ZETiIS i pwwifi-students.
Wyniki przedstawia rysunek~\ref{wifi-analyzer}.

\begin{figure}[htb]
  \centering
  \includegraphics[width=0.5\textwidth]{analyzer.png}
  \caption{Wyniki programu Wifi-Analyzer}
  \label{wifi-analyzer}
\end{figure}

Udało nam się również połączyć z siecią ZETiIS za pomocą telefonu z systemem Android.

\section{Podłącznie interfejsów bezprzewodowych w systemie FreeBSD}

\subsection{Kreacja interfejsu wlan0}

Do stworzenia interefejsu bezprzewodowego na maszynie k5 posłużyliśmy się skryptem 
\begin{verbatim}
 k5% sterowniki -w
\end{verbatim}
Załadowaliśmy sterowniki karty 
\begin{verbatim}
 k5% sudo kldload if_iwn
 k5% sudo kldload wlan_amrr
\end{verbatim}
Następnie wykreowaliśmy interfejs wirtualny
\begin{verbatim}
 k5% wlan=$(sudo ifconfig wlan create wlandev iwn0)
 k5% sudo ifconfig $wlan country PL
 k5% sudo ifconfig $wlan up
\end{verbatim}
W efekcie otrzymaliśmy podniesiony interfejs \verb+wlan0+, który automatycznie podłączył się do sieci \verb+pwwifi+.

\subsection{Połącznie z siecią pwwifi-students}

Przeskanowaliśmy eter w poszukiwaniu sieci \verb+pwwifi-students+.
\begin{verbatim}
 k5% ifconfig wlan0 list scan | grep pwifi-s
pwwifi-stud...  00:24:14:31:37:72    1   54M -88:-95  102 ES   HTCAP WME
pwwifi-stud...  00:24:14:31:95:02    1   54M -85:-95  102 ES   HTCAP WME
pwwifi-stud...  0c:85:25:f2:96:62    1   54M -89:-95  102 ES   HTCAP WME
pwwifi-stud...  00:24:14:31:95:22   11   54M -90:-95  102 ES   HTCAP WME
pwwifi-stud...  00:24:14:31:2f:b2   11   54M -83:-95  102 ES   HTCAP WME
\end{verbatim}
Skorzystaliśmy z gotowego skryptu \verb+pwwifi+. 
\begin{verbatim}
 k5% pwwifi start wlan0
\end{verbatim}
Następnie wpisaliśmy numer albumu i hasło. Sprawdziliśmy połącznie programem \verb+traceroute+.
\begin{verbatim}
 k5% traceroute wp.pl
traceroute: Warning: wp.pl has multiple addresses; using 212.77.98.9
traceroute to wp.pl (212.77.98.9), 64 hops max, 52 byte packets
 1  dns.pwifi-studets.pw.edu.pl (10.68.0.1)  34.522 ms  8.813 ms  23.242 ms
 2  coi-smolna.rtr.pw.edu.pl (194.29.130.1)  6.752 ms  7.757 ms  10.008 ms
 3  c7304.rtr.pw.edu.pl (194.29.132.161)  26.561 ms  4.265 ms  15.967 ms
 4  wp.tpix.pl (195.149.232.110)  19.024 ms  14.834 ms  18.221 ms
 5  rtr4.rtr-int-1.adm.wp-sa.pl (212.77.96.73)  15.040 ms  13.959 ms  13.861 ms
 6  www.wp.pl (212.77.98.9)  13.929 ms  14.180 ms  13.397 ms
\end{verbatim}
Na koniec zakończyliśmy połącznie poleceniem
\begin{verbatim}
 k5% pwwifi stop
\end{verbatim}

\subsection{Połącznie z siecią ZETiIS}



\section{Połącznie równy z równym}



\section{Sieć bluetooth} 

Zadaniem było połączyć dwa trasowniki przez interfes bluetooth w profilu czujnika zbliżeniowego.

Na samym początku załadowaliśmy sterowniki USB.
\begin{verbatim}
 t5% # kldload uhci
 t5% # kldload ehci
 t5% # kldload xhci
\end{verbatim}
Drugi w kolejności był stos bluetooth.
\begin{verbatim}
 t5% # kldload ng_ubt
 t5% # service bluetooth start ubt0
\end{verbatim}
Obie czynności wykonaliśmy na trasownikach t5 i t4.

Przeskanowaliśmy eter w poszukiwaniu urządzeń bluetooth.
\begin{verbatim}
 t5% bt -scan

skanuje eter bluetooth ...
00:06:66:00:e3:da	F9	# FireFly RS-232 SPP 	t9
00:06:66:00:e2:84       FB	# FireFly RS-232 SPP 	tb
00:06:66:00:e1:35	FC	# FireFly RS-232 SPP	tc
00:11:67:bc:4d:81	K0	# k0 +	Grzybek 1
00:0c:41:e1:d7:8b	K7	# k7 +
00:15:83:07:51:80	K9	# k9 +	Class 1 Tracer
00:0d:93:1c:47:45	MB	# MacMini (mb = m11)
00:15:83:07:51:60	T4	# t4 +	Class 1 Tracer
\end{verbatim}

W kolejnym kroku włączyliśmy czujnik zbliżeniowy na trasowniku t5.
W wyniku otrzymaliśmy komunikat
\begin{verbatim}
 t5% # bt-proximity t4
 2BLISKO
 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
 0^C
\end{verbatim}

\section{Wnioski}

\end{document}
